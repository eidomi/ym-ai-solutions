@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import complex animations */
@import './animations.css';

/* ========================================
   BASE LAYER - Global Resets & Defaults
   ======================================== */
@layer base {
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        @apply font-heebo bg-bg-primary text-text-primary;
        line-height: 1.7;
        overflow-x: hidden;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Noise texture overlay */
    body::before {
        content: '';
        @apply fixed inset-0 pointer-events-none;
        z-index: 10; /* Above content, below navigation */
        opacity: 0.03;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }

    /* English mode */
    body.en {
        @apply font-satoshi;
        direction: ltr;
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #eae5dc;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-[#D4CEC6] rounded;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-accent-primary;
    }
}

/* ========================================
   COMPONENT LAYER - Reusable Components
   ======================================== */
@layer components {
    /* Skip Link for Accessibility (WCAG 2.4.1) */
    .skip-link {
        @apply absolute bg-accent-cta text-white px-4 py-2 font-semibold z-[1000] rounded-b-lg;
        top: -100px;
        left: 50%;
        transform: translateX(-50%);
        transition: top 0.2s ease;
    }

    .skip-link:focus {
        top: 0;
        outline: 2px solid white;
        outline-offset: 2px;
    }

    /* Glass morphism base */
    .glass {
        @apply bg-white/40 backdrop-blur-glass border border-glass-border;
    }

    .glass-card {
        @apply glass rounded-4xl shadow-glow;
        box-shadow:
            0 8px 32px rgba(25, 118, 210, 0.12),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .glass-nav {
        @apply bg-white/80 backdrop-blur-glass border-b border-accent-primary/10;
    }

    /* Primary Button */
    .btn-primary {
        @apply bg-accent-cta text-white px-8 py-4 rounded-xl font-semibold text-base
           inline-flex items-center gap-2 min-h-[48px]
           shadow-cta transition-all duration-300;
    }

    .btn-primary:hover {
        @apply bg-accent-cta-hover -translate-y-0.5 shadow-cta-hover;
    }

    /* Secondary Button */
    .btn-secondary {
        @apply bg-white/60 backdrop-blur-[10px] text-text-primary
           px-8 py-4 rounded-xl font-medium text-base
           border border-accent-primary/20 min-h-[48px]
           transition-all duration-300;
    }

    .btn-secondary:hover {
        @apply border-accent-primary bg-accent-primary/10;
    }

    /* Contact Button */
    .contact-btn {
        @apply inline-flex items-center gap-2 px-6 py-4
           bg-white/60 backdrop-blur-[10px]
           border border-accent-primary/20 rounded-xl
           text-text-primary no-underline min-h-[48px]
           transition-all duration-300;
    }

    .contact-btn:hover {
        @apply border-accent-primary bg-accent-primary/10 -translate-y-0.5;
    }

    .contact-btn svg {
        @apply w-5 h-5 text-accent-primary;
    }

    /* Language Toggle */
    .lang-toggle {
        @apply bg-white/60 border border-accent-primary/20
           text-text-primary px-4 py-2 rounded-lg
           cursor-pointer text-sm
           min-w-[48px] min-h-[48px]
           flex items-center justify-center
           transition-all duration-300;
        font-family: inherit;
    }

    .lang-toggle:hover {
        @apply border-accent-primary bg-accent-primary/10 text-accent-primary;
    }

    /* Section Label */
    .section-label {
        @apply text-sm text-accent-primary uppercase tracking-widest mb-4 font-semibold;
    }

    /* Section Title */
    .section-title {
        @apply text-3xl lg:text-4xl font-bold mb-8;
        font-size: clamp(1.8rem, 4vw, 2.5rem);
    }

    body.en .section-title {
        @apply font-cormorant;
    }

    /* Service Card */
    .service-card {
        @apply bg-white/60 backdrop-blur-glass
           border border-glass-border rounded-2xl
           p-5 lg:p-8 relative overflow-hidden
           transition-all duration-400;
        box-shadow:
            0 4px 16px rgba(25, 118, 210, 0.08),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        contain: content;
    }

    /* Service card top border on hover */
    .service-card::before {
        content: '';
        @apply absolute top-0 inset-x-0 h-[3px] bg-accent-gradient scale-x-0 transition-transform duration-400;
    }

    .service-card:hover {
        @apply -translate-y-1 border-accent-primary/30 shadow-glow;
    }

    .service-card:hover::before {
        @apply scale-x-100;
    }

    /* Shimmer effect - using transform for GPU acceleration */
    .service-card::after {
        content: '';
        @apply absolute inset-0 pointer-events-none;
        background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
        );
        transform: translateX(-100%);
        transition: transform 0.5s ease;
    }

    .service-card:hover::after {
        transform: translateX(100%);
    }

    /* Service Icon */
    .service-icon {
        @apply w-[50px] h-[50px] bg-accent-primary/10 rounded-xl
           flex items-center justify-center text-2xl mb-6;
    }

    .service-icon svg {
        @apply w-7 h-7 text-accent-primary;
    }

    .service-card:hover .service-icon svg {
        @apply animate-icon-bounce;
    }

    /* FAQ Item */
    .faq-item {
        @apply bg-white/50 border border-accent-primary/10 rounded-2xl p-6
           transition-all duration-300;
        contain: content;
    }

    .faq-item:hover {
        @apply border-accent-primary/30;
        box-shadow: 0 4px 20px rgba(25, 118, 210, 0.1);
    }

    .faq-item h3 {
        @apply text-lg mb-0 text-text-primary flex items-start gap-2 cursor-pointer select-none;
    }

    /* Question mark badge */
    .faq-item h3::before {
        content: '?';
        @apply inline-flex items-center justify-center
           min-w-[24px] h-6 bg-accent-gradient rounded-full
           text-sm font-bold text-white flex-shrink-0;
    }

    /* Accordion toggle */
    .faq-item h3::after {
        content: '+';
        @apply ms-auto text-xl font-normal text-accent-primary transition-transform duration-300 leading-none;
    }

    .faq-item.open h3::after {
        transform: rotate(45deg);
    }

    /* FAQ answer accordion */
    .faq-item p {
        @apply text-text-secondary text-base leading-relaxed pe-8
           max-h-0 overflow-hidden opacity-0
           transition-all duration-300;
        padding-top: 0;
    }

    .faq-item.open p {
        @apply max-h-[500px] opacity-100;
        padding-top: 0.8rem;
    }

    body.en .faq-item p {
        @apply pe-0 ps-8;
    }

    /* Stats */
    .stat-number {
        @apply text-3xl sm:text-4xl lg:text-5xl font-heebo leading-tight whitespace-nowrap;
        font-weight: 900;
        color: #c4856a; /* Fallback for print/high-contrast */
        background: linear-gradient(135deg, #c4856a 0%, #d4a088 100%);
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .stat-number.counting {
        @apply animate-stat-pop;
    }

    .stat-label {
        @apply text-sm mt-2;
        color: #3A4857; /* Darker for better contrast (4.8:1) */
        font-weight: 400;
    }

    /* Gradient Text */
    .gradient-text {
        background: linear-gradient(135deg, #a6c8ff 0%, #c4dbff 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Logo Text */
    .logo-text {
        @apply text-2xl font-bold leading-tight;
        background: linear-gradient(135deg, #c4856a 0%, #d4a088 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Timeline */
    .journey-timeline {
        @apply relative pe-8;
    }

    body.en .journey-timeline {
        @apply pe-0 ps-8;
    }

    .journey-timeline::before {
        content: '';
        @apply absolute end-0 top-0 bottom-0 w-0.5 bg-accent-gradient rounded;
    }

    body.en .journey-timeline::before {
        @apply end-auto start-0;
    }

    .timeline-item {
        @apply relative mb-8 pe-6;
    }

    body.en .timeline-item {
        @apply pe-0 ps-6;
    }

    .timeline-item::before {
        content: '';
        @apply absolute -end-8 top-2 w-3 h-3 bg-accent-primary rounded-full;
        border: 3px solid rgba(255, 255, 255, 0.8);
    }

    body.en .timeline-item::before {
        @apply end-auto -start-8;
    }

    .timeline-year {
        @apply font-mono text-sm text-accent-primary mb-1 tracking-wide;
        font-weight: 100;
    }

    .timeline-title {
        @apply font-semibold mb-1;
    }

    .timeline-desc {
        @apply text-sm text-text-secondary;
    }

    /* Proof Features Badge */
    .proof-feature {
        @apply bg-white/60 border border-accent-primary/15 px-5 py-2 rounded-full text-sm text-text-secondary;
    }

    /* Hero Badge */
    .hero-badge {
        @apply inline-flex items-center gap-2
           bg-accent-primary/10 border border-accent-primary/25
           px-4 py-2 rounded-full text-sm text-accent-primary mb-8 w-fit;
        animation: fadeInUp 0.8s ease forwards;
    }

    .hero-badge::before {
        content: '';
        @apply w-2 h-2 bg-accent-primary rounded-full animate-pulse-dot;
    }

    /* Hero Dark Theme */
    #hero.bg-\[\#0a1f44\] .hero-badge {
        @apply bg-white/10 border-white/25 text-white/90;
    }

    #hero.bg-\[\#0a1f44\] .hero-badge::before {
        @apply bg-accent-primary;
    }

    #hero.bg-\[\#0a1f44\] .stat-number {
        background: linear-gradient(135deg, #c4856a 0%, #e8c4b8 100%);
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    #hero.bg-\[\#0a1f44\] .stat-label {
        @apply text-white/70;
    }


    /* Button Icon */
    .btn-icon {
        @apply w-[1em] h-[1em] align-middle;
        margin-inline-start: 0.3em;
    }

    /* Badge Icon */
    .badge-icon {
        @apply w-5 h-5 align-middle text-accent-primary;
        margin-inline-end: 0.3em;
    }

    /* Navigation Hamburger */
    .nav-hamburger {
        @apply hidden flex-col justify-center items-center
           w-11 h-11 bg-transparent border-none cursor-pointer p-0 z-[101];
    }

    .nav-hamburger span {
        @apply block w-6 h-0.5 bg-accent-primary rounded transition-all duration-300;
    }

    .nav-hamburger span:nth-child(1) {
        @apply mb-1.5;
    }

    .nav-hamburger span:nth-child(3) {
        @apply mt-1.5;
    }

    .nav-hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 6px);
    }

    .nav-hamburger.active span:nth-child(2) {
        @apply opacity-0;
    }

    .nav-hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -6px);
    }

    /* Mobile Nav Drawer */
    /* RTL (Hebrew default): drawer on RIGHT, slides off to right */
    .mobile-nav-drawer {
        @apply fixed top-0 right-0 w-[280px] max-w-[85vw] h-dvh
           bg-[rgba(250,247,242,0.98)] backdrop-blur-glass z-[99]
           flex flex-col gap-2 transition-transform duration-300;
        transform: translateX(100%);
        padding: calc(70px + env(safe-area-inset-top, 0px) + 2rem) 1.5rem 2rem;
        border-left: 1px solid rgba(25, 118, 210, 0.15);
    }

    /* LTR (English): drawer on LEFT, slides off to left */
    body.en .mobile-nav-drawer {
        @apply right-auto left-0;
        transform: translateX(-100%);
        border-left: none;
        border-right: 1px solid rgba(25, 118, 210, 0.15);
    }

    .mobile-nav-drawer.open {
        transform: translateX(0) !important;
    }

    .mobile-nav-drawer a {
        @apply text-text-primary no-underline text-lg p-4 rounded-xl block transition-all duration-300;
    }

    .mobile-nav-drawer a:hover,
    .mobile-nav-drawer a:active {
        @apply bg-accent-primary/10 text-accent-primary;
    }

    /* Drawer Backdrop */
    .drawer-backdrop {
        @apply fixed inset-0 bg-text-primary/30 z-[98] opacity-0 transition-all duration-300;
        visibility: hidden;
    }

    .drawer-backdrop.visible {
        @apply opacity-100;
        visibility: visible;
    }

    /* Stats Animation */
    .stat-item.visible {
        @apply opacity-100 translate-y-0;
    }

    /* Ambient Background */
    .ambient-bg {
        @apply fixed inset-0 pointer-events-none z-0 overflow-hidden;
    }

    .ambient-orb {
        @apply absolute rounded-full opacity-40;
        filter: blur(100px);
        animation: float 25s ease-in-out infinite;
    }

    .orb-1 {
        @apply w-[600px] h-[600px] -top-[200px] -right-[200px];
        background: radial-gradient(
            circle,
            rgba(25, 118, 210, 0.2) 0%,
            transparent 70%
        );
        animation-delay: 0s;
    }

    .orb-2 {
        @apply w-[500px] h-[500px] -bottom-[150px] -left-[150px];
        background: radial-gradient(
            circle,
            rgba(212, 160, 136, 0.16) 0%,
            transparent 70%
        );
        animation-delay: -10s;
    }

    .orb-3 {
        @apply w-[400px] h-[400px] top-1/2 left-[30%];
        background: radial-gradient(
            circle,
            rgba(25, 118, 210, 0.14) 0%,
            transparent 70%
        );
        animation-delay: -5s;
    }

    /* Grid Pattern */
    .grid-pattern {
        @apply fixed inset-0 pointer-events-none z-[1];
        background-image:
            linear-gradient(rgba(25, 118, 210, 0.03) 1px, transparent 1px),
            linear-gradient(
                90deg,
                rgba(25, 118, 210, 0.03) 1px,
                transparent 1px
            );
        background-size: 80px 80px;
    }

    /* Hero Grid Layout */
    .hero-grid {
        @apply min-h-[calc(100dvh-70px)] w-full;
        display: grid;
        grid-template-columns: 1fr;
    }

    /* Desktop: Two column layout */
    @media (min-width: 1024px) {
        .hero-grid {
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
    }

    .hero-content {
        @apply flex flex-col justify-center px-4 xs:px-5 sm:px-6 lg:px-8 py-8 lg:py-12 z-10;
    }

    /* RTL (Hebrew): Content on left (column 1), Image on right (column 2) */
    @media (min-width: 1024px) {
        .hero-content {
            grid-column: 1;
            grid-row: 1;
            padding-inline-end: 0;
        }

        .hero-image-wrapper {
            grid-column: 2;
            grid-row: 1;
        }
    }

    /* LTR (English): Content on right (column 2), Image on left (column 1) */
    body.en .hero-content {
        text-align: left;
    }

    @media (min-width: 1024px) {
        body.en .hero-content {
            grid-column: 2;
            padding-inline-start: 0;
            padding-inline-end: 2rem;
        }

        body.en .hero-image-wrapper {
            grid-column: 1;
        }
    }

    .hero-image-wrapper {
        @apply hidden lg:flex items-center justify-center overflow-hidden;
        height: 100%;
        min-height: 400px;
        max-height: calc(100dvh - 70px);
        padding: 1rem;
    }

    @media (min-width: 1024px) {
        .hero-image-wrapper {
            padding: 0.5rem;
        }
    }

    @media (min-width: 1280px) {
        .hero-image-wrapper {
            padding: 0;
        }
    }

    .hero-illustration {
        @apply w-full h-full object-contain;
        max-width: 100%;
        max-height: 100%;
        border-radius: 1rem;
    }

    @media (min-width: 1280px) {
        .hero-illustration {
            max-width: 110%;
            max-height: 110%;
            transform: scale(1.05);
        }
    }

    @media (min-width: 1536px) {
        .hero-illustration {
            max-width: 120%;
            max-height: 115%;
            transform: scale(1.1);
        }
    }

    /* Bottom Navigation (iOS-style tab bar) */
    .bottom-nav {
        @apply fixed bottom-0 inset-x-0 z-[100]
           bg-white/90 backdrop-blur-glass
           border-t border-accent-primary/10
           hidden;
        height: calc(56px + env(safe-area-inset-bottom, 0px));
        padding-bottom: env(safe-area-inset-bottom, 0px);
    }

    .bottom-nav-tab {
        @apply flex flex-col items-center justify-center gap-0.5
           flex-1 py-2 no-underline
           text-text-secondary text-[10px] font-medium
           transition-colors duration-200;
        min-height: 56px;
    }

    .bottom-nav-tab svg {
        @apply w-6 h-6 transition-transform duration-200;
    }

    .bottom-nav-tab.active {
        @apply text-accent-primary;
    }

    .bottom-nav-tab.active svg {
        @apply text-accent-primary;
        transform: scale(1.1);
    }

    .bottom-nav-tab:active {
        @apply bg-accent-primary/5;
    }

    /* Site Footer with safe area support */
    .site-footer {
        padding-bottom: calc(2rem + env(safe-area-inset-bottom, 0px));
    }

    /* Illustration Layer */
    .illustration-layer {
        @apply fixed inset-0 pointer-events-none z-[1] overflow-hidden;
    }

    .line-art {
        @apply absolute;
        stroke: #a6c8ff;
        stroke-width: 1;
        fill: none;
        opacity: 0.12;
    }

    .workflow-node {
        @apply absolute w-[120px] h-[120px];
    }

    .workflow-node-1 {
        @apply top-[15%] right-[8%] opacity-25;
        animation: subtle-float 35s ease-in-out infinite;
    }

    .workflow-node-2 {
        @apply bottom-[25%] left-[5%] opacity-[0.22] w-[150px] h-[150px];
        animation: subtle-float 40s ease-in-out infinite;
        animation-delay: -10s;
    }

    .workflow-node-3 {
        @apply top-[60%] right-[12%] opacity-[0.18] w-[100px] h-[100px];
        animation: subtle-float 38s ease-in-out infinite;
        animation-delay: -20s;
    }

    .connection-lines {
        @apply absolute w-[300px] h-[200px] top-[35%] left-[3%] opacity-[0.18];
    }

    .flow-circle {
        @apply absolute w-[200px] h-[200px] bottom-[10%] right-[5%] opacity-20;
        animation: subtle-float 42s ease-in-out infinite;
        animation-delay: -15s;
    }

    .data-flow {
        @apply absolute w-[400px] h-[300px] top-[5%] left-[15%] opacity-15;
    }

    /* ========================================
       CHALLENGES SECTION
       ======================================== */
    .challenge-card {
        @apply bg-white/60 backdrop-blur-glass
           border border-glass-border rounded-2xl
           p-6 lg:p-8 text-center relative overflow-hidden
           transition-all duration-400;
        box-shadow:
            0 4px 16px rgba(239, 68, 68, 0.06),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .challenge-card::before {
        content: '';
        @apply absolute top-0 inset-x-0 h-[3px] bg-gradient-to-r from-red-400 to-red-500 scale-x-0 transition-transform duration-400;
    }

    .challenge-card:hover {
        @apply -translate-y-1 border-red-300/40;
        box-shadow: 0 8px 24px rgba(239, 68, 68, 0.12);
    }

    .challenge-card:hover::before {
        @apply scale-x-100;
    }

    .challenge-icon {
        @apply w-[56px] h-[56px] bg-red-50 rounded-xl
           flex items-center justify-center mx-auto mb-5;
    }

    .challenge-icon svg {
        @apply w-7 h-7 text-red-500;
    }

    /* ========================================
       PROCESS TIMELINE SECTION
       ======================================== */
    .process-timeline {
        @apply relative;
    }

    /* Desktop connecting line */
    .process-timeline::before {
        content: '';
        @apply absolute top-[28px] hidden lg:block;
        left: calc(10% + 28px);
        right: calc(10% + 28px);
        height: 2px;
        background: linear-gradient(90deg, #a6c8ff 0%, #2A6B6B 100%);
        opacity: 0.3;
    }

    .process-step {
        @apply flex flex-col items-center text-center relative;
    }

    .process-step-number {
        @apply w-14 h-14 rounded-full flex items-center justify-center
           text-xl font-bold text-white mb-4 relative z-10;
        background: linear-gradient(135deg, #a6c8ff 0%, #2A6B6B 100%);
        box-shadow: 0 4px 12px rgba(42, 107, 107, 0.25);
    }

    .process-step-title {
        @apply font-semibold text-text-primary mb-2;
    }

    .process-step-desc {
        @apply text-sm text-text-secondary max-w-[180px] mx-auto;
    }

    /* ========================================
       COOKIE CONSENT BANNER
       ======================================== */
    .cookie-banner {
        @apply fixed bottom-0 inset-x-0 z-[200] p-4
           bg-white/95 backdrop-blur-glass
           border-t border-accent-primary/20
           transform transition-transform duration-300;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
    }

    .cookie-banner.hidden {
        transform: translateY(100%);
    }

    .cookie-content {
        @apply max-w-[800px] mx-auto flex flex-col sm:flex-row items-center gap-4 text-center sm:text-start;
    }

    .cookie-content p {
        @apply text-sm text-text-secondary flex-1;
    }

    .cookie-actions {
        @apply flex gap-3;
    }

    .cookie-btn {
        @apply px-5 py-2 text-sm min-h-[40px];
    }

    .cookie-privacy-link {
        @apply text-xs text-accent-primary hover:underline whitespace-nowrap;
    }

    /* ========================================
       LEGAL MODALS
       ======================================== */
    .legal-modal {
        @apply fixed inset-0 z-[300] flex items-center justify-center p-4
           opacity-0 pointer-events-none transition-opacity duration-300;
    }

    .legal-modal.open {
        @apply opacity-100 pointer-events-auto;
    }

    .legal-modal-backdrop {
        @apply absolute inset-0 bg-text-primary/50 backdrop-blur-sm;
    }

    .legal-modal-content {
        @apply relative bg-bg-primary rounded-2xl shadow-2xl
           w-full max-w-[700px] max-h-[85vh] overflow-hidden
           flex flex-col
           transform scale-95 transition-transform duration-300;
    }

    .legal-modal.open .legal-modal-content {
        @apply scale-100;
    }

    .legal-modal-header {
        @apply flex items-center justify-between p-4 sm:p-6 border-b border-accent-primary/15;
    }

    .legal-modal-header h2 {
        @apply text-xl sm:text-2xl font-bold text-text-primary m-0;
    }

    .legal-modal-close {
        @apply w-10 h-10 flex items-center justify-center
           text-2xl text-text-secondary hover:text-text-primary
           bg-transparent border-none cursor-pointer rounded-full
           hover:bg-accent-primary/10 transition-colors;
    }

    .legal-modal-body {
        @apply p-4 sm:p-6 overflow-y-auto text-text-secondary text-sm leading-relaxed;
    }

    .legal-modal-body h3 {
        @apply text-lg font-semibold text-text-primary mt-6 mb-3;
    }

    .legal-modal-body h3:first-child {
        @apply mt-0;
    }

    .legal-modal-body p {
        @apply mb-4;
    }

    .legal-modal-body ul {
        @apply mb-4 ps-5 list-disc;
    }

    .legal-modal-body li {
        @apply mb-2;
    }

    .legal-modal-footer {
        @apply p-4 sm:p-6 border-t border-accent-primary/15 text-xs text-text-secondary;
    }

    /* ========================================
       STATISTICS DISCLAIMER FOOTNOTE
       ======================================== */
    .stat-disclaimer {
        @apply text-xs text-white/50 mt-4 max-w-[800px] mx-auto px-4;
    }

    .stat-number sup {
        @apply text-xs font-normal opacity-70;
    }

    /* ========================================
       FOOTER LEGAL SECTION
       ======================================== */
    .footer-legal {
        @apply flex flex-wrap justify-center gap-4 mb-4 text-sm;
    }

    .footer-legal a {
        @apply text-text-secondary hover:text-accent-primary transition-colors no-underline;
    }

    .footer-business-info {
        @apply text-xs text-text-secondary/70 mb-4;
    }

    .footer-disclaimer {
        @apply text-xs text-text-secondary/60 max-w-[600px] mx-auto mt-4 px-4;
    }

    /* ========================================
       NEXT STEPS (CTA Enhancement)
       ======================================== */
    .next-steps-grid {
        @apply grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-10;
    }

    .next-step {
        @apply flex items-center gap-4 p-4 bg-white/50 border border-accent-primary/15
           rounded-xl text-start;
    }

    .next-step-number {
        @apply w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0
           text-base font-bold text-white;
        background: linear-gradient(135deg, #2A6B6B 0%, #3d8a8a 100%);
    }

    .next-step-text {
        @apply text-text-primary font-medium;
    }
}

/* ========================================
   UTILITIES LAYER
   ======================================== */
@layer utilities {
    /* Animation delays */
    .animate-delay-100 {
        animation-delay: 0.1s;
    }
    .animate-delay-150 {
        animation-delay: 0.15s;
    }
    .animate-delay-200 {
        animation-delay: 0.2s;
    }
    .animate-delay-300 {
        animation-delay: 0.3s;
    }
    .animate-delay-400 {
        animation-delay: 0.4s;
    }
    .animate-delay-600 {
        animation-delay: 0.6s;
    }

    /* Transition duration */
    .duration-400 {
        transition-duration: 400ms;
    }

    /* DVH support */
    .min-h-dvh {
        min-height: 100vh;
        min-height: 100dvh;
    }

    .h-dvh {
        height: 100vh;
        height: 100dvh;
    }
}

/* ========================================
   RESPONSIVE STYLES
   ======================================== */

/* Mobile - show hamburger and bottom nav */
@media (max-width: 767px) {
    .nav-hamburger {
        @apply flex;
    }

    .nav-links a:not(.lang-toggle) {
        @apply hidden;
    }

    /* Show bottom navigation on mobile */
    .bottom-nav {
        @apply flex;
    }

    /* Footer padding to account for bottom nav */
    .site-footer {
        padding-bottom: calc(72px + env(safe-area-inset-bottom, 0px));
    }

    /* Performance: Disable heavy ambient animations on mobile */
    .ambient-bg {
        @apply hidden;
    }

    .illustration-layer {
        @apply hidden;
    }

    .grid-pattern {
        background-size: 60px 60px;
        opacity: 0.4;
    }

    .faq-item p {
        @apply pe-0;
    }

    body.en .faq-item p {
        @apply ps-0;
    }

    .hero-image-wrapper {
        @apply hidden !important;
    }

    .hero-grid {
        grid-template-columns: 1fr !important;
    }

    /* Service card: remove shimmer on mobile for performance */
    .service-card::after {
        @apply hidden;
    }

    /* Reduce backdrop-filter blur on mobile for performance */
    .glass,
    .glass-card,
    .service-card,
    .btn-secondary,
    .contact-btn {
        backdrop-filter: blur(12px);
    }

    /* Hero section mobile adjustments */
    .hero {
        @apply py-8;
    }

    .hero h1 {
        font-size: clamp(1.875rem, 5vw, 2.25rem); /* Improved readability on small screens */
        line-height: 1.3;
    }

    .hero-subtitle {
        @apply text-base;
    }

    /* Full-width CTAs on mobile */
    .hero-cta .btn-primary,
    .hero-cta .btn-secondary {
        @apply w-full justify-center;
    }

    /* Section title mobile */
    .section-title {
        font-size: clamp(1.5rem, 5vw, 1.875rem);
    }

    /* Reduced section padding */
    #services,
    #contact {
        @apply py-10;
    }

    /* Card spacing */
    .services-grid {
        @apply gap-4;
    }

    .service-card {
        @apply p-4;
    }

    .glass-card {
        @apply p-4;
    }

    /* Stats row mobile */
    .stats-row {
        @apply mt-12 pt-8 gap-4;
    }
}

/* Small phones 480px+ */
@media (min-width: 480px) and (max-width: 767px) {
    .hero h1 {
        font-size: 2rem;
    }
}

/* Tablets 768px+ */
@media (min-width: 768px) {
    .nav-hamburger {
        @apply hidden;
    }

    .nav-links a:not(.lang-toggle) {
        @apply inline-block;
    }

    /* Hide mobile drawer on desktop */
    .mobile-nav-drawer {
        @apply hidden;
    }

}

/* Touch feedback */
@media (hover: none) and (pointer: coarse) {
    .btn-primary:active,
    .btn-secondary:active,
    .contact-btn:active,
    .lang-toggle:active {
        transform: scale(0.97);
    }

    .service-card:active {
        transform: scale(0.98);
    }

    /* Disable hover-dependent effects on touch */
    .service-card:hover {
        transform: none;
    }

    .service-card:hover::before {
        transform: scaleX(0);
    }
}

/* Focus-visible styles for keyboard navigation */
:focus-visible {
    outline: 2px solid #1976D2;
    outline-offset: 2px;
}

.btn-primary:focus-visible,
.btn-secondary:focus-visible,
.contact-btn:focus-visible,
.lang-toggle:focus-visible,
.bottom-nav-tab:focus-visible {
    outline: 2px solid #1976D2;
    outline-offset: 2px;
}

/* Remove default focus outline (we're using focus-visible) */
:focus:not(:focus-visible) {
    outline: none;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    html {
        scroll-behavior: auto;
    }

    .ambient-orb {
        animation: none;
    }

    .stat-item {
        @apply opacity-100;
        transform: none;
    }

    .service-card::after {
        @apply hidden;
    }
}

/* Drawer open - prevent body scroll */
body.drawer-open {
    @apply overflow-hidden;
}

/* Backdrop-filter fallback */
@supports not (backdrop-filter: blur(24px)) {
    .glass,
    .glass-card,
    .glass-nav,
    .service-card,
    .faq-item,
    .mobile-nav-drawer {
        background: rgba(247, 245, 242, 0.95);
    }
}
